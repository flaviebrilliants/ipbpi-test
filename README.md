# Инструкция по использованию

## Файл конфигурации (config.py):
```
1. WEB_DOMAIN - адрес веб узла 
2. Для тестирования авторизованных запросов:
  ** user - логин пользователя 
  ** password - пароль пользователя 
```

## Контекст программы

1. В папке `api` размещены каталоги (по названиям модулей API ipbpi-webserver), которые содержат в себе json-файлы, содержащие сценарий проведения тестирования (запросы), название каждого файла устанавливается для конкретной конечной точки API. Внутри каждого каталога существует py-модуль, отвечающий за проведение теста непосредственно по всему модулю API.
2. Структура файла с тестами представляет собой список словарей, в каждом словаре описывается сценарий 1 теста (запроса) по атрибутам:
```
     ** name (string) - название API функции [можно указать дополнительный комментарий]
     ** method (string) - HTTP метод
     ** url (string) - URL 
     ** args (dict) - аргументы запроса
     ** resfields (dict) - ожидаемые поля результата
```
3. Базовый класс сценария проведения тестирования находится в модуле `test.py`, предполагается наследование от данного класса для проведения тестирования каждой конечной точки API. Логика построена таким образом:  
           а) Класс тестирования конечной точки наследуется от `TestCase`.  
           б) Переопределяется метод старта, финальной строчкой является передача дальнейшего управления в метод `run`.  
           в) В методе `run` происходит основной жизненный цикл. Вызывается метод `call`, который осуществляет отправку запроса вебсерверу и возвращает его ответ. Далее, вызывается метод `check`, внутри которого происходит проверка на 404 - ошибку, а так же осуществляется проверка результирующих полей.  
           Примечание: *На каждом этапе происходит логгирование и вывод информации в консоль. Метод `check_resfields` может подлежать частому переопределению, для рекурсивного обхода полей. По-умолчанию не предусматривает рекурсии. 
4. В py-модуле `start.py` определен класс `Starter`, который реализует парсинг json-файлов с тестами по их модулям. 
